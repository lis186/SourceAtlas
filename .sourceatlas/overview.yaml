metadata:
  project_name: "SourceAtlas"
  scan_time: "2026-01-03T02:30:00+08:00"
  target_path: "."
  total_files: 85188
  scanned_files: 6
  scan_ratio: "0.007%"
  project_scale: "VERY_LARGE"
  constitution_version: "1.1"
  context:
    git_branch: "gitbutler/workspace"
    relative_path: null
    package_name: "SourceAtlas v2.11.0"

project_fingerprint:
  project_type: "LIBRARY"
  scale: "VERY_LARGE"
  primary_language: "Shell/Bash + Markdown"
  framework: "Claude Code Plugin System"
  architecture: "Command + Skills + Helper Scripts"

tech_stack:
  backend:
    language: "Bash 5.x"
    framework: "Claude Code Plugin API"
    database: "YAML (file-based storage)"

  frontend:
    language: "Markdown"
    framework: "Claude Code UI"

  infrastructure:
    containerization: "none"
    orchestration: "none"

hypotheses:
  architecture:
    - hypothesis: "Plugin architecture with three layers: Commands (slash commands), Skills (reusable logic), Helper Scripts (data collection)"
      confidence: 0.95
      evidence: "plugin/commands/*.md:1-10, plugin/skills/*/SKILL.md:1-5, scripts/atlas/*.sh:1-20"
      validation_method: "Read plugin/README.md and verify directory structure"

    - hypothesis: "Constitution-based analysis quality framework ensures consistent output across all commands"
      confidence: 0.90
      evidence: "ANALYSIS_CONSTITUTION.md:1-60, plugin/commands/overview.md:10-16"
      validation_method: "Check all commands reference Constitution v1.1"

    - hypothesis: "Information theory-driven approach: scan <5% files to achieve 70-80% understanding"
      confidence: 0.95
      evidence: "README.md:43, CLAUDE.md:45-46, ANALYSIS_CONSTITUTION.md:12-36"
      validation_method: "Validate scan ratio limits in Constitution Article I"

  tech_stack:
    - hypothesis: "7 core commands: overview, pattern, flow, history, impact, deps, list, clear"
      confidence: 1.0
      evidence: "CLAUDE.md:24-32, plugin/commands/*.md"
      validation_method: "Count .md files in plugin/commands/"

    - hypothesis: "Pattern library supports 221+ language-specific patterns across 12+ languages"
      confidence: 0.85
      evidence: "README.md:75, scripts/atlas/find-patterns.sh:1-100"
      validation_method: "Grep pattern definitions in find-patterns.sh"

    - hypothesis: "Git history analysis powered by code-maat for hotspot and coupling detection"
      confidence: 0.90
      evidence: "plugin/commands/history.md:1-30, README.md:92-99"
      validation_method: "Check history command references to code-maat"

  development:
    - hypothesis: "GitButler workflow management (no direct git commits allowed)"
      confidence: 0.95
      evidence: "CLAUDE.md:39-42"
      validation_method: "Check CLAUDE.md GitButler section"

    - hypothesis: "Proposal-driven development with ideas/ → proposals/ → implementation flow"
      confidence: 0.90
      evidence: "CLAUDE.md:64-73, proposals/README.md:1-50"
      validation_method: "Read proposals/README.md lifecycle section"

    - hypothesis: "Multi-language support verification through real project testing requirement"
      confidence: 0.85
      evidence: "CLAUDE.md:51-53, PRD.md:1-60"
      validation_method: "Check implementation rules in CLAUDE.md"

  ai_collaboration:
    level: 2
    confidence: 0.75
    tools_detected:
      - tool: "Claude Code"
        config_file: "CLAUDE.md"
        content_quality: "comprehensive"
      - tool: "Claude Code"
        config_file: ".claude/"
        content_quality: "comprehensive"
    indicators:
      - "Comprehensive CLAUDE.md (87 lines) with development guidelines"
      - "Docs-to-Code ratio: 11.94 (215 md / 18 code files)"
      - "README.md: 309 lines (comprehensive documentation)"
    description: "Frequent use - Active AI assistance in development workflow"

  business:
    - hypothesis: "Product positioned as 'AI-powered codebase understanding assistant' integrated into Claude Code"
      confidence: 0.95
      evidence: "PRD.md:1-15, README.md:1-10"
      validation_method: "Read PRD.md executive summary"

    - hypothesis: "Target use case: Reduce onboarding time from days to minutes (2-3 days → 3-15 minutes)"
      confidence: 0.90
      evidence: "README.md:28-36"
      validation_method: "Check before/after comparison table"

    - hypothesis: "Version 2.11.0 (2026-01-02) with recent 'default persistence' feature implementation"
      confidence: 1.0
      evidence: "CLAUDE.md:9, proposals/default-persistence/README.md:1-10"
      validation_method: "Check version in CLAUDE.md and recent proposals"

scanned_files:
  - file: "README.md"
    reason: "High-entropy: Project overview and use cases"
    key_insight: "Information theory approach, 221 patterns, benchmarked performance claims"

  - file: "CLAUDE.md"
    reason: "High-entropy: AI collaboration and development guide"
    key_insight: "GitButler workflow, Constitution compliance, auto-save to .sourceatlas/"

  - file: "PRD.md"
    reason: "High-entropy: Product requirements and positioning"
    key_insight: "Positioned as Claude Code assistant, not standalone CLI tool"

  - file: "ANALYSIS_CONSTITUTION.md"
    reason: "High-entropy: Immutable analysis principles"
    key_insight: "7 Articles defining quality framework, scale-aware scan ratios"

  - file: "plugin/commands/overview.md"
    reason: "Architecture: Command implementation pattern"
    key_insight: "Prompt-based command structure with cache check and self-verification"

  - file: "scripts/atlas/detect-ai-tools.sh"
    reason: "Architecture: Helper script example"
    key_insight: "Detects 16+ AI tool configurations, outputs YAML format"

summary:
  understanding_depth: "75%"
  key_findings:
    - "Plugin architecture with 7 core commands using information theory (<5% scan → 70-80% understanding)"
    - "Constitution v1.1 ensures analysis quality with scale-aware scan ratios and evidence requirements"
    - "GitButler workflow + Claude Code Level 2 collaboration (comprehensive CLAUDE.md + .claude/ configs)"
    - "Recent v2.11.0 feature: Default persistence (removed --save, auto-saves to .sourceatlas/)"
    - "Production-ready with 221+ patterns, multi-language support, and real project benchmarking"
