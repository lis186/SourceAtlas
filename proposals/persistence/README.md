# Proposal: æ¢ç´¢çµæœæŒä¹…åŒ–

**Status**: ğŸŸ¢ å·²æ‰¹å‡†å¾…å¯¦ä½œ
**Version**: 1.0
**Author**: Claude & Justin
**Created**: 2025-12-12

---

## å•é¡Œé™³è¿°

### ç—›é»

1. **åˆ†æçµæœéš¨ session æ¶ˆå¤±**
   - æ—©ä¸Šç”¨ `/atlas.overview` äº†è§£å°ˆæ¡ˆ
   - ä¸‹åˆé–‹æ–° sessionï¼Œåˆ†æçµæœä¸è¦‹äº†
   - æ¯æ¬¡éƒ½è¦é‡è·‘ï¼Œæµªè²»æ™‚é–“å’Œ tokens

2. **äº‹å¾Œæ‰æƒ³å„²å­˜**
   - åŸ·è¡Œå®Œæ‰ç™¼ç¾ã€Œæ‡‰è©²å­˜ä¸‹ä¾†ã€
   - åªèƒ½é‡è·‘æˆ–æ‰‹å‹•è¤‡è£½è²¼ä¸Š

3. **æ–°æˆå“¡ç„¡æ³•å—ç›Š**
   - è³‡æ·±æˆå“¡åšéçš„åˆ†æï¼Œæ–°äººçœ‹ä¸åˆ°
   - çŸ¥è­˜ç„¡æ³•ç´¯ç©

### ä½¿ç”¨è€…ç ”ç©¶

| ä½¿ç”¨è€…é¡å‹ | ç—›é» |
|-----------|------|
| è³‡æ·±å·¥ç¨‹å¸« | äº‹å¾Œæ‰æƒ³å­˜ï¼Œè¦é‡è·‘ |
| åˆç´šå·¥ç¨‹å¸« | ä¸çŸ¥é“æœ‰ `--save`ã€ä¸çŸ¥é“å­˜åœ¨å“ª |
| Tech Lead | è·¨å°ˆæ¡ˆï¼Œå¿˜è¨˜å„²å­˜ä½ç½® |
| é‡åº¦ä½¿ç”¨è€… | æª”æ¡ˆç´¯ç©ï¼Œä¸çŸ¥é“å“ªäº›éæ™‚ |
| å¶çˆ¾ä½¿ç”¨è€… | å¿˜è¨˜åƒæ•¸åç¨± |

---

## è§£æ±ºæ–¹æ¡ˆ

### ä¸‰å€‹åŠŸèƒ½

| åŠŸèƒ½ | ç”¨é€” |
|------|------|
| `--save` | åŸ·è¡Œæ™‚å„²å­˜çµæœ |
| `/atlas.save` | äº‹å¾Œå„²å­˜ä¸Šä¸€æ¬¡åŸ·è¡Œçµæœ |
| `/atlas.clear` | æ¸…ç©ºå·²å„²å­˜çš„åˆ†æ |

---

## è©³ç´°è¨­è¨ˆ

### 1. çµ±ä¸€ `--save` åƒæ•¸

**æ‰€æœ‰å‘½ä»¤æ”¯æ´**ï¼š
```bash
/atlas.overview --save
/atlas.pattern "repository" --save
/atlas.flow "checkout" --save
/atlas.history --save
/atlas.impact "User model" --save
/atlas.deps "react" --save
```

**å„²å­˜ä½ç½®**ï¼š
```
.sourceatlas/
â”œâ”€â”€ overview.yaml           # /atlas.overview --save
â”œâ”€â”€ patterns/
â”‚   â””â”€â”€ {pattern-name}.md   # /atlas.pattern "X" --save
â”œâ”€â”€ flows/
â”‚   â””â”€â”€ {flow-name}.md      # /atlas.flow "X" --save
â”œâ”€â”€ history.md              # /atlas.history --save
â”œâ”€â”€ impact/
â”‚   â””â”€â”€ {target-name}.md    # /atlas.impact "X" --save
â””â”€â”€ deps/
    â””â”€â”€ {library-name}.md   # /atlas.deps "X" --save
```

**æª”åè½‰æ›è¦å‰‡**ï¼š
- ç©ºæ ¼ â†’ `-`
- ç‰¹æ®Šå­—å…ƒç§»é™¤
- å…¨å°å¯«
- ç¯„ä¾‹ï¼š`"User model"` â†’ `user-model.md`

**è¼¸å‡ºç¢ºèª**ï¼š
```
ğŸ’¾ å·²å„²å­˜è‡³ .sourceatlas/patterns/repository.md
```

---

### 2. `/atlas.save` å‘½ä»¤ï¼ˆäº‹å¾Œå„²å­˜ï¼‰

**å•é¡Œ**ï¼šä½¿ç”¨è€…åŸ·è¡Œå®Œæ‰æƒ³åˆ°è¦å­˜

**è§£æ±º**ï¼š
```bash
# åŸ·è¡Œåˆ†æ
/atlas.overview

# çœ‹å®Œè¦ºå¾—ä¸éŒ¯ï¼Œäº‹å¾Œå„²å­˜
/atlas.save

# è¼¸å‡º
ğŸ’¾ å·²å„²å­˜ä¸Šä¸€æ¬¡ /atlas.overview çµæœ
   â†’ .sourceatlas/overview.yaml
```

**è¡Œç‚º**ï¼š
- å„²å­˜ã€Œä¸Šä¸€æ¬¡ã€åŸ·è¡Œçš„ `/atlas.*` çµæœ
- åªä¿ç•™æœ€è¿‘ä¸€æ¬¡ï¼Œä¸ç´¯ç©
- æ–° session å¾Œæš«å­˜æ¶ˆå¤±ï¼ˆå¯æ¥å—ï¼‰

**éŒ¯èª¤è™•ç†**ï¼š
```bash
/atlas.save
# å¦‚æœæ²’æœ‰ä¸Šä¸€æ¬¡åŸ·è¡Œ
âš ï¸ æ²’æœ‰å¯å„²å­˜çš„åˆ†æçµæœ
   è«‹å…ˆåŸ·è¡Œ /atlas.* å‘½ä»¤
```

---

### 3. `/atlas.clear` å‘½ä»¤

**ç”¨æ³•**ï¼š
```bash
# æ¸…ç©ºå…¨éƒ¨ï¼ˆç¢ºèªï¼‰
/atlas.clear

# æ¸…ç©ºç‰¹å®šé¡å‹
/atlas.clear patterns
/atlas.clear flows

# ä¸ç¢ºèªç›´æ¥æ¸…ç©º
/atlas.clear --force
```

**äº’å‹•**ï¼š
```
ğŸ—‘ï¸ æ¸…ç©º .sourceatlas/ï¼Ÿ(y/N) y

å·²åˆªé™¤ï¼š
- overview.yaml
- patterns/ (3 å€‹æª”æ¡ˆ)
- history.md

âœ… å·²æ¸…ç©º
```

**å¯æ¸…ç©ºçš„ç›®æ¨™**ï¼š
- `overview` - å°ˆæ¡ˆæ¦‚è¦½
- `patterns` - pattern åˆ†æ
- `flows` - æµç¨‹åˆ†æ
- `history` - æ­·å²åˆ†æ
- `impact` - å½±éŸ¿åˆ†æ
- `deps` - ä¾è³´åˆ†æ
- `all` - å…¨éƒ¨ï¼ˆé è¨­ï¼‰

---

## ç¾æœ‰æ”¯æ´ç‹€æ…‹

| å‘½ä»¤ | `--save` ç‹€æ…‹ | éœ€è¦ä¿®æ”¹ |
|------|---------------|----------|
| `/atlas.overview` | âœ… å·²æœ‰ | ç„¡ |
| `/atlas.pattern` | âŒ ç„¡ | éœ€å¯¦ä½œ |
| `/atlas.flow` | âŒ ç„¡ | éœ€å¯¦ä½œ |
| `/atlas.history` | âŒ ç„¡ | éœ€å¯¦ä½œ |
| `/atlas.impact` | âŒ ç„¡ | éœ€å¯¦ä½œ |
| `/atlas.deps` | âŒ ç„¡ | éœ€å¯¦ä½œ |
| `/atlas.save` | ğŸ†• æ–°å‘½ä»¤ | éœ€å»ºç«‹ |
| `/atlas.clear` | ğŸ†• æ–°å‘½ä»¤ | éœ€å»ºç«‹ |

---

## å¯¦ä½œè¨ˆç•«

### Phase 1ï¼šçµ±ä¸€ `--save`ï¼ˆ1.5hï¼‰

1. `/atlas.pattern` åŠ å…¥ `--save`
2. `/atlas.flow` åŠ å…¥ `--save`
3. `/atlas.history` åŠ å…¥ `--save`
4. `/atlas.impact` åŠ å…¥ `--save`
5. `/atlas.deps` åŠ å…¥ `--save`

**æ¯å€‹å‘½ä»¤ä¿®æ”¹å…§å®¹**ï¼š
- `argument-hint` åŠ å…¥ `[--save]`
- è§£æ `--save` åƒæ•¸
- å»ºç«‹å„²å­˜ç›®éŒ„ï¼ˆå¦‚éœ€è¦ï¼‰
- è¼¸å‡ºå¾Œå„²å­˜åˆ°å°æ‡‰ä½ç½®
- é¡¯ç¤ºå„²å­˜ç¢ºèª

### Phase 2ï¼š`/atlas.save`ï¼ˆ30minï¼‰

å»ºç«‹ `.claude/commands/atlas.save.md`ï¼š
- è®€å–ä¸Šä¸€æ¬¡åŸ·è¡Œçš„å‘½ä»¤å’Œè¼¸å‡º
- æ ¹æ“šå‘½ä»¤é¡å‹æ±ºå®šå„²å­˜ä½ç½®
- åŸ·è¡Œå„²å­˜ä¸¦ç¢ºèª

### Phase 3ï¼š`/atlas.clear`ï¼ˆ30minï¼‰

å»ºç«‹ `.claude/commands/atlas.clear.md`ï¼š
- è§£æç›®æ¨™åƒæ•¸
- ç¢ºèªåˆªé™¤ï¼ˆé™¤é `--force`ï¼‰
- åŸ·è¡Œåˆªé™¤ä¸¦å›å ±çµæœ

### Phase 4ï¼šæ–‡æª”æ›´æ–°ï¼ˆ20minï¼‰

- æ›´æ–° `CLAUDE.md` å‘½ä»¤èªªæ˜
- æ›´æ–° `README.md`
- æ›´æ–° `USAGE_GUIDE.md`

---

## å·¥ä½œé‡ä¼°ç®—

| é …ç›® | å·¥ä½œé‡ |
|------|--------|
| Phase 1ï¼šçµ±ä¸€ `--save` | 1.5h |
| Phase 2ï¼š`/atlas.save` | 30min |
| Phase 3ï¼š`/atlas.clear` | 30min |
| Phase 4ï¼šæ–‡æª”æ›´æ–° | 20min |
| **ç¸½è¨ˆ** | **~2.5-3h** |

---

## è¨­è¨ˆåŸå‰‡

1. **æ¥µç°¡** - ä¸åš configã€ä¸åš dry-runã€ä¸åšéæœŸè­¦å‘Š
2. **ä¸€è‡´** - æ‰€æœ‰å‘½ä»¤ `--save` è¡Œç‚ºä¸€è‡´
3. **å¯é¸** - é è¨­ä¸å„²å­˜ï¼Œä½¿ç”¨è€…ä¸»å‹•è§¸ç™¼
4. **äº‹å¾Œè£œæ•‘** - `/atlas.save` è§£æ±ºã€Œå¿˜äº†åŠ  --saveã€

---

## æœªä¾†æ“´å±•ï¼ˆv2ï¼Œæœ‰éœ€æ±‚å†åšï¼‰

- `summary.md` è‡ªå‹•ç”Ÿæˆ
- `config.yaml` è¨­å®š
- éæœŸè­¦å‘Šæ©Ÿåˆ¶
- èˆ‡ CLAUDE.md çš„ `@import` æ•´åˆ

---

## é–‹æ”¾å•é¡Œ

1. **æš«å­˜æ©Ÿåˆ¶** - `/atlas.save` å¦‚ä½•çŸ¥é“ã€Œä¸Šä¸€æ¬¡ã€çš„çµæœï¼Ÿ
   - é¸é … Aï¼šå¯«å…¥ `.sourceatlas/.cache/last-result.md`
   - é¸é … Bï¼šä¾è³´ Claude Code çš„ session è¨˜æ†¶
   - **å»ºè­°**ï¼šé¸é … Bï¼ˆç°¡å–®ï¼Œä¸é¡å¤–å¯«æª”ï¼‰

2. **è¦†è“‹è¡Œç‚º** - åŒåæª”æ¡ˆæ˜¯å¦è¦†è“‹ï¼Ÿ
   - **å»ºè­°**ï¼šç›´æ¥è¦†è“‹ï¼Œä¸è©¢å•ï¼ˆä¿æŒç°¡å–®ï¼‰

---

## é©—æ”¶æ¨™æº–

- [ ] æ‰€æœ‰ 6 å€‹å‘½ä»¤æ”¯æ´ `--save`
- [ ] `/atlas.save` å¯å„²å­˜ä¸Šä¸€æ¬¡çµæœ
- [ ] `/atlas.clear` å¯æ¸…ç©º `.sourceatlas/`
- [ ] æ–‡æª”å·²æ›´æ–°
- [ ] åœ¨ 2 å€‹çœŸå¯¦å°ˆæ¡ˆæ¸¬è©¦é€šé

---

## ç›¸é—œæ–‡ä»¶

- [ideas/claude-code-plugins-learnings.md](../../ideas/claude-code-plugins-learnings.md) - åŸå§‹æ¢ç´¢
- [CLAUDE.md](../../CLAUDE.md) - å°ˆæ¡ˆæŒ‡å—
